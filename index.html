<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'; frame-src 'self';" />
  <meta http-equiv="X-Content-Security-Policy" content="default-src 'self'; script-src 'self'" />
  <link href="./dist/output.css" rel="stylesheet">
  <title>Chat with pl.AI.n</title>
</head>
<body class="bg-[url(./panam.png)] bg-cover bg-center bg-no-repeat text-white font-sans">
  <div class="flex flex-col items-center justify-center min-h-screen py-6 px-4">
    <div class="w-full max-w-xl bg-white bg-opacity-10 backdrop-blur-xl rounded-lg p-6 shadow-lg border border-white border-opacity-40">
      
      <div id="gltfViewer" class="h-80 overflow-y-scroll mb-4 space-y-4">
        <iframe 
          src="./gltf-viewer/index.html" 
          class="w-full h-full border-none rounded-lg">
        </iframe>
      </div>

      <!-- Input box -->
      <div class="flex items-center space-x-4">
        <input 
          id="user-input" 
          type="text" 
          placeholder="Type your message..." 
          class="bg-[#606060] w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2"
        />
        <button 
          id="send-button"
          class="px-4 py-2 bg-[#00274D] text-white rounded-lg hover:bg-blue-700 focus:outline-none"
        >
          Send
        </button>
      </div>
    </div>
  </div>

  <script>
    const sendButton = document.getElementById('send-button');
    const userInput = document.getElementById('user-input');
    const { ipcRenderer } = require('electron');  // Electron IPC to communicate with main process

    sendButton.addEventListener('click', () => {
      const message = userInput.value.trim();
      if (message !== '') {
        // Send the input to the main process to run Python script
        ipcRenderer.send('run-python', message);
        userInput.value = '';  // Clear the input field
      }
    });

    // Listen for the output from Python script
    ipcRenderer.on('python-output', (event, output) => {
      console.log('Python Output:', output);
      // You can display the output here or use it as needed
    });
  </script>
</body>
</html>
